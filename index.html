<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ú–∏–∫—Ä–æ–ó–∞–π–º - –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–π–º—ã –æ–Ω–ª–∞–π–Ω</title>
<style>
    /* –í–ê–® CSS –ö–û–î (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π) */
    :root {
        --primary-color: #667eea;
        --secondary-color: #764ba2;
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;line-height:1.6;color:#333;background:#fff;position:relative;min-height:100vh;overflow-x:hidden}
    
    /* –ê–Ω–∏–º–∞—Ü–∏—è —Ñ–æ–Ω–∞ —Å —á–∞—Å—Ç–∏—Ü–∞–º–∏ - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è */
    #particles-js {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: -1;
        pointer-events: none;
    }
    
    /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω */
    .animated-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(-45deg, rgba(248,249,250,0.7), rgba(233,236,239,0.7), rgba(222,226,230,0.7), rgba(248,249,250,0.7));
        background-size: 400% 400%;
        z-index: -2;
        animation: gradientShift 15s ease infinite;
    }
    
    @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    
    .navbar{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background:rgba(255,255,255,0.95);box-shadow:0 2px 8px rgba(0,0,0,0.08);position:sticky;top:0;z-index:100;animation: slideDown 0.8s ease-out}
    
    @keyframes slideDown {
        from { transform: translateY(-100%); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }
    
    .logo{font-size:1.5rem;font-weight:700;color:var(--primary-color);animation: fadeInScale 0.8s ease-out 0.2s both}
    
    @keyframes fadeInScale {
        from { opacity: 0; transform: scale(0.9); }
        to { opacity: 1; transform: scale(1); }
    }
    
    .admin-btn{padding:.5rem 1rem;background:var(--secondary-color);color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:.9rem;transition:all .3s;animation: fadeIn 0.8s ease-out 0.3s both}
    .admin-btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,0.15)}
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
    
    .hero{position:relative;min-height:500px;display:flex;align-items:center;justify-content:flex-end;overflow:hidden;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);padding:0 4rem}
    
    .hero-banner{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:1;opacity:.8;animation: zoomIn 0.96s ease-out} /* –£—Å–∫–æ—Ä–µ–Ω–æ –Ω–∞ 20% */
    
    @keyframes zoomIn {
        from { transform: scale(1.1); opacity: 0; }
        to { transform: scale(1); opacity: 0.8; }
    }
    
    .hero-content{position:relative;z-index:2;color:white;padding:2rem;max-width:500px;margin-right:2rem;opacity:0;transform:translateX(50px);animation: slideInRight 0.64s ease-out 0.4s forwards} /* –£—Å–∫–æ—Ä–µ–Ω–æ –Ω–∞ 20% */
    
    @keyframes slideInRight {
        to { opacity: 1; transform: translateX(0); }
    }
    
    .hero-title{font-size:2.8rem;font-weight:800;margin-bottom:1.5rem;text-shadow:0 2px 8px rgba(0,0,0,0.3);line-height:1.2}
    .hero-subtitle{font-size:1.3rem;margin-bottom:2.5rem;opacity:.95;text-shadow:0 1px 3px rgba(0,0,0,0.2);font-weight:300}
    
    .hero-btn{padding:1.2rem 3rem;font-size:1.1rem;font-weight:600;border:none;border-radius:10px;cursor:pointer;transition:all .4s;box-shadow:0 6px 20px rgba(0,0,0,0.2);transform:scale(0.9);opacity:0;animation: popIn 0.48s ease-out 0.64s forwards} /* –£—Å–∫–æ—Ä–µ–Ω–æ –Ω–∞ 20% */
    .hero-btn:hover{transform:translateY(-3px) scale(1.05);box-shadow:0 10px 25px rgba(0,0,0,0.3)}
    
    @keyframes popIn {
        0% { transform: scale(0.9); opacity: 0; }
        70% { transform: scale(1.05); opacity: 1; }
        100% { transform: scale(1); opacity: 1; }
    }
    
    /* –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π */
    .calculator{padding:4rem 2rem;max-width:800px;margin:0 auto;border-radius:20px;margin-top:-50px;position:relative;z-index:10;opacity:0;transform:translateY(30px);animation:fadeUp 0.8s ease-out 1s forwards}
    
    @keyframes fadeUp {
        to { opacity: 1; transform: translateY(0); }
    }
    
    .section-title{font-size:2rem;font-weight:700;margin-bottom:3rem;text-align:center;color:var(--primary-color);position:relative}
    .section-title::after{content:'';position:absolute;bottom:-10px;left:50%;transform:translateX(-50%);width:60px;height:4px;background:var(--secondary-color);border-radius:2px}
    
    .calc-container{background:rgba(255,255,255,0.25);border:1px solid rgba(255,255,255,0.1);padding:2.5rem;border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,0.05);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px)}
    .calc-field{margin-bottom:2rem;opacity:0;transform:translateY(20px);background:rgba(255,255,255,0.1);padding:1.5rem;border-radius:10px;backdrop-filter:blur(5px)}
    
    .calc-field:nth-child(1) { animation: fadeUp 0.6s ease-out 1.2s forwards; }
    .calc-field:nth-child(2) { animation: fadeUp 0.6s ease-out 1.4s forwards; }
    
    .calc-label{display:flex;justify-content:space-between;margin-bottom:.8rem;font-weight:600;color:rgba(0,0,0,0.9)}
    .calc-value{font-size:1.3rem;color:var(--primary-color);font-weight:700;text-shadow:0 1px 2px rgba(255,255,255,0.8)}
    
    
   .calc-slider{
    width:100%;
    height:10px;
    border-radius:5px;
    background:#f5f5f5; /* –ù–µ–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Å–≤–µ—Ç–ª–æ-—Å–µ—Ä—ã–π */
    outline:none;
    -webkit-appearance:none;
    appearance:none;
    cursor:pointer;
    transition:all .3s;
    border:1px solid #e0e0e0;
    box-shadow:inset 0 1px 3px rgba(0,0,0,0.1)
}
    .calc-slider:hover{
    height:12px;
    background:#ffffff; /* –ë–µ–ª—ã–π –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
    border-color:#d0d0d0;
    box-shadow:inset 0 1px 4px rgba(0,0,0,0.15)
}
    
    .calc-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:28px;height:28px;border-radius:50%;background:var(--primary-color);cursor:pointer;box-shadow:0 3px 10px rgba(0,0,0,0.2);transition:all .3s;border:3px solid rgba(255,255,255,0.9)}
    .calc-slider::-webkit-slider-thumb:hover{transform:scale(1.2);box-shadow:0 5px 15px rgba(0,0,0,0.3)}
    
    .calc-slider::-moz-range-thumb{width:28px;height:28px;border-radius:50%;background:var(--primary-color);cursor:pointer;box-shadow:0 3px 10px rgba(0,0,0,0.2);transition:all .3s;border:3px solid rgba(255,255,255,0.9)}
    .calc-slider::-moz-range-thumb:hover{transform:scale(1.2)}
    
    /* –ë–ª–æ–∫ "–ö –≤–æ–∑–≤—Ä–∞—Ç—É" - –æ—á–µ–Ω—å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π */
    .calc-result{
        margin-top:2rem;
        padding:2rem;
        background:linear-gradient(135deg, rgba(102,126,234,0.55) 0%, rgba(118,75,162,0.7) 100%);
        color:white;
        border-radius:12px;
        text-align:center;
        transform:scale(0.95);
        opacity:0;
        animation: popIn 0.6s ease-out 1.6s forwards;
        backdrop-filter:blur(8px);
        border:1px solid rgba(255,255,255,0.2);
        box-shadow:0 10px 30px rgba(0,0,0,0.1);
    }
    .result-label{font-size:.9rem;opacity:.9;margin-bottom:.5rem}
    .result-value{font-size:2.2rem;font-weight:800;transition:all .3s;text-shadow:0 2px 4px rgba(0,0,0,0.2)}
    
    /* –ö–∞—Ä—Ç–æ—á–∫–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ - –æ—á–µ–Ω—å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ */
    .benefits{padding:5rem 2rem}
    .benefits-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem;max-width:1000px;margin:0 auto}
    .benefit-card{
        padding:2.5rem 2rem;
        background:rgba(255,255,255,0.2);
        border-radius:16px;
        text-align:center;
        transition:all .4s;
        border:1px solid rgba(255,255,255,0.15);
        opacity:0;
        transform:translateY(30px);
        animation:fadeUp 0.6s ease-out forwards;
        box-shadow:0 10px 30px rgba(0,0,0,0.05);
        backdrop-filter:blur(12px);
        -webkit-backdrop-filter:blur(12px);
    }
    
    .benefit-card:nth-child(1) { animation-delay: 0.2s; }
    .benefit-card:nth-child(2) { animation-delay: 0.4s; }
    .benefit-card:nth-child(3) { animation-delay: 0.6s; }
    .benefit-card:nth-child(4) { animation-delay: 0.8s; }
    
    .benefit-card:hover{
        border-color:rgba(102,126,234,0.5);
        transform:translateY(-8px) scale(1.02);
        box-shadow:0 15px 35px rgba(0,0,0,0.1);
        background:rgba(255,255,255,0.25);
    }
    .benefit-icon{font-size:3rem;margin-bottom:1.5rem;display:inline-block;transition:all .3s;text-shadow:0 2px 4px rgba(0,0,0,0.1)}
    .benefit-card:hover .benefit-icon{transform:scale(1.2) rotate(5deg)}
    .benefit-title{font-size:1.2rem;font-weight:700;color:rgba(0,0,0,0.9);margin-bottom:.8rem}
    .benefit-text{color:rgba(0,0,0,0.8);font-size:1rem;line-height:1.5}
    
    /* –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏ - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è */
    .form-section{padding:5rem 2rem}
    .form-container{
        max-width:500px;
        margin:0 auto;
        background:rgba(255,255,255,0.15);
        padding:2.5rem;
        border-radius:16px;
        box-shadow:0 10px 40px rgba(0,0,0,0.08);
        opacity:0;
        transform:translateY(30px);
        animation:fadeUp 0.8s ease-out 1s forwards;
        backdrop-filter:blur(15px);
        -webkit-backdrop-filter:blur(15px);
        border:1px solid rgba(255,255,255,0.1);
    }
    .form-group{margin-bottom:1.8rem;opacity:0;transform:translateX(-20px)}
    
    .form-group:nth-child(1) { animation: slideInRight 0.5s ease-out 1.2s forwards; }
    .form-group:nth-child(2) { animation: slideInRight 0.5s ease-out 1.4s forwards; }
    .form-group:nth-child(3) { animation: slideInRight 0.5s ease-out 1.6s forwards; }
    .form-group:nth-child(4) { animation: slideInRight 0.5s ease-out 1.8s forwards; }
    
    .form-label{display:block;margin-bottom:.8rem;font-weight:600;color:rgba(0,0,0,0.9);font-size:0.95rem}
    .form-input{
        width:100%;
        padding:1rem;
        border:2px solid rgba(224,224,224,0.5);
        border-radius:8px;
        font-size:1rem;
        transition:all .3s;
        font-family:inherit;
        background:rgba(255,255,255,0.4);
        color:rgba(0,0,0,0.9);
    }
    .form-input::placeholder{color:rgba(0,0,0,0.5)}
    .form-input:focus{
        outline:none;
        border-color:rgba(102,126,234,0.7);
        background:rgba(255,255,255,0.6);
        box-shadow:0 0 0 3px rgba(102,126,234,0.1)
    }
    .form-input:focus::placeholder{opacity:0.5}
    
    .submit-btn{
        width:100%;
        padding:1.2rem;
        background:linear-gradient(135deg, rgba(102,126,234,0.9) 0%, rgba(118,75,162,0.9) 100%);
        color:white;
        border:none;
        border-radius:8px;
        font-size:1.1rem;
        font-weight:600;
        cursor:pointer;
        transition:all .4s;
        position:relative;
        overflow:hidden;
        border:1px solid rgba(255,255,255,0.2);
        backdrop-filter:blur(5px);
    }
    .submit-btn:hover{
        background:linear-gradient(135deg, rgba(102,126,234,1) 0%, rgba(118,75,162,1) 100%);
        transform:translateY(-3px);
        box-shadow:0 8px 20px rgba(0,0,0,0.15)
    }
    .submit-btn::after{content:'';position:absolute;top:50%;left:50%;width:5px;height:5px;background:rgba(255,255,255,0.5);opacity:0;border-radius:100%;transform:scale(1,1) translate(-50%);transform-origin:50% 50%}
    .submit-btn:focus:not(:active)::after{animation: ripple 1s ease-out}
    
    @keyframes ripple {0%{transform:scale(0,0);opacity:1}20%{transform:scale(25,25);opacity:1}100%{opacity:0;transform:scale(40,40)}}
    
    .form-message{padding:1.2rem;margin-top:1.5rem;border-radius:8px;text-align:center;display:none;animation: slideInUp 0.5s ease-out;backdrop-filter:blur(5px)}
    .form-message.success{background:rgba(212,237,218,0.9);color:#155724;display:block;border:1px solid rgba(195,230,203,0.5)}
    .form-message.error{background:rgba(248,215,218,0.9);color:#721c24;display:block;border:1px solid rgba(245,198,203,0.5)}
    
    /* –§—É—Ç–µ—Ä –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π */
    footer{
        background:rgba(26,26,26,0.7);
        color:white;
        padding:2rem;
        text-align:center;
        position:relative;
        z-index:10;
        backdrop-filter:blur(10px);
        -webkit-backdrop-filter:blur(10px);
        border-top:1px solid rgba(255,255,255,0.1);
    }
    
    /* –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
    html {
        scroll-behavior: smooth;
    }
    
    @media(max-width:768px){
        .hero{min-height:450px;padding:0 1.5rem;justify-content:center;text-align:center}
        .hero-content{margin-right:0;max-width:100%}
        .hero-title{font-size:2.2rem}
        .hero-subtitle{font-size:1.1rem}
        .hero-btn{padding:1rem 2rem}
        .calculator{margin:0 1rem;margin-top:-30px;padding:3rem 1.5rem}
        .calc-container{padding:1.8rem}
        .benefits{padding:3rem 1rem}
        .form-section{padding:3rem 1rem}
    }
    
    @media(max-width:480px){
        .hero{min-height:400px}
        .hero-title{font-size:1.8rem}
        .hero-subtitle{font-size:1rem}
        .benefit-card{padding:2rem 1.5rem}
        .form-container{padding:1.5rem}
    }
</style>
</head>
<body>
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω -->
    <div class="animated-bg"></div>
    <div id="particles-js"></div>

    <nav class="navbar">
        <div class="logo">MyZaim</div>
    </nav>

    <section class="hero">
        <img id="heroBanner" class="hero-banner" src="" alt="Banner">
        <div class="hero-content">
            <h1 class="hero-title" id="heroTitle"></h1>
            <p class="hero-subtitle" id="heroSubtitle"></p>
            <button class="hero-btn" id="heroBtn" onclick="scrollToForm()"></button>
        </div>
    </section>

    <section class="calculator">
        <h2 class="section-title">–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ –∑–∞–π–º</h2>
        <div class="calc-container">
            <div class="calc-field">
                <div class="calc-label">
                    <span>–°—É–º–º–∞ –∑–∞–π–º–∞</span>
                    <span class="calc-value" id="amountValue">10,000</span>
                </div>
                <input type="range" id="amountSlider" class="calc-slider" min="1000" max="100000" value="10000" step="1000">
            </div>
            <div class="calc-field">
                <div class="calc-label">
                    <span>–°—Ä–æ–∫ (–¥–Ω–∏)</span>
                    <span class="calc-value" id="daysValue">30 –¥–Ω.</span>
                </div>
                <input type="range" id="daysSlider" class="calc-slider" min="1" max="365" value="30" step="1">
            </div>
            <div class="calc-result">
                <div class="result-label">–ö –≤–æ–∑–≤—Ä–∞—Ç—É</div>
                <div class="result-value" id="resultAmount">10,150</div>
            </div>
        </div>
    </section>

    <section class="benefits">
        <h2 class="section-title">–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h2>
        <div class="benefits-grid" id="benefitsGrid"></div>
    </section>

    <section class="form-section">
        <h2 class="section-title">–ü–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–∫—É</h2>
        <div class="form-container">
            <form id="applicationForm" onsubmit="handleFormSubmit(event)">
                <div class="form-group">
                    <label class="form-label">–§–∞–º–∏–ª–∏—è</label>
                    <input type="text" class="form-input" name="lastName" required placeholder="–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–º–∏–ª–∏—é">
                </div>
                <div class="form-group">
                    <label class="form-label">–ò–º—è</label>
                    <input type="text" class="form-input" name="firstName" required placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" name="email" required placeholder="example@mail.com">
                </div>
                <div class="form-group">
                    <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                    <input type="tel" class="form-input" name="phone" required placeholder="+XXX XXX XXXXX">
                </div>
                <button type="submit" class="submit-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
                <div class="form-message" id="formMessage"></div>
            </form>
        </div>
    </section>

    <footer>
        <p>&copy; 2025 MyZaim. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </footer>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <script>
    // ================ –ù–ê–°–¢–†–û–ô–ö–ò GITHUB ================
    // –¢–æ–∫–µ–Ω —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ 3 —á–∞—Å—Ç–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    const GITHUB_TOKEN_PARTS = [
        'ghp_sm9Cx',  // –ß–∞—Å—Ç—å 1
        'pCmVzlUaXL', // –ß–∞—Å—Ç—å 2  
        'zy2BUiHFDhqf73x3UgcSw' // –ß–∞—Å—Ç—å 3
    ];
    
    // GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
    const GITHUB_REPO = {
        owner: 'petrovicigor0',
        repo: 'my-microzaim-site',
        path: 'data.json',
        branch: 'main'
    };
    
    // ================ –§–£–ù–ö–¶–ò–ò –î–õ–Ø GITHUB ================
    // –°–æ–±–∏—Ä–∞–µ–º –ø–æ–ª–Ω—ã–π —Ç–æ–∫–µ–Ω –∏–∑ —á–∞—Å—Ç–µ–π
    function getGitHubToken() {
        const token = GITHUB_TOKEN_PARTS.join('');
        console.log('üîë –¢–æ–∫–µ–Ω (–ø–µ—Ä–≤—ã–µ 10 —Å–∏–º–≤–æ–ª–æ–≤):', token.substring(0, 10) + '...');
        return token;
    }
    
    // –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ GitHub
    async function testGitHubConnection() {
        try {
            const token = getGitHubToken();
            const { owner, repo } = GITHUB_REPO;
            
            console.log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ GitHub...');
            console.log('üìÅ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:', `${owner}/${repo}`);
            
            const testUrl = `https://api.github.com/repos/${owner}/${repo}`;
            console.log('üåê URL –∑–∞–ø—Ä–æ—Å–∞:', testUrl);
            
            const response = await fetch(testUrl, {
                headers: {
                    'Authorization': `token ${token}`,
                    'Accept': 'application/vnd.github.v3+json'
                }
            });
            
            console.log('üìä –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞:', response.status, response.statusText);
            
            if (response.ok) {
                const data = await response.json();
                console.log('‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!');
                console.log('üì¶ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:', data.full_name);
                console.log('üîó URL:', data.html_url);
                return true;
            } else {
                const error = await response.text();
                console.error('‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:', error);
                return false;
            }
        } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ç–∏:', error);
            return false;
        }
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞—è–≤–∫—É –≤ GitHub
    async function saveToGitHub(applicationData) {
        try {
            const token = getGitHubToken();
            const { owner, repo, path, branch } = GITHUB_REPO;
            
            console.log('üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏ –≤ GitHub...');
            console.log('üìù –î–∞–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏:', applicationData);
            
            // 1. –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π —Ñ–∞–π–ª
            const getUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${path}?ref=${branch}`;
            console.log('üîó GET –∑–∞–ø—Ä–æ—Å:', getUrl);
            
            const getResponse = await fetch(getUrl, {
                headers: {
                    'Authorization': `token ${token}`,
                    'Accept': 'application/vnd.github.v3+json'
                }
            });
            
            console.log('üìä GET —Å—Ç–∞—Ç—É—Å:', getResponse.status, getResponse.statusText);
            
            let sha = null;
            let currentData = { applications: [] };
            
            if (getResponse.ok) {
                const fileData = await getResponse.json();
                sha = fileData.sha;
                console.log('‚úÖ –§–∞–π–ª –Ω–∞–π–¥–µ–Ω, SHA:', sha ? sha.substring(0, 20) + '...' : '–Ω–µ—Ç');
                
                // –î–µ–∫–æ–¥–∏—Ä—É–µ–º base64
                const content = atob(fileData.content.replace(/\n/g, ''));
                currentData = JSON.parse(content);
                console.log('üìÑ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π:', currentData.applications?.length || 0);
            } else if (getResponse.status === 404) {
                console.log('üìÑ –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π');
            } else {
                const errorText = await getResponse.text();
                throw new Error(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ (${getResponse.status}): ${errorText}`);
            }
            
            // 2. –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É
            const newApplication = {
                id: Date.now(),
                timestamp: new Date().toISOString(),
                lastName: applicationData.lastName,
                firstName: applicationData.firstName,
                email: applicationData.email,
                phone: applicationData.phone,
                amount: applicationData.amount,
                days: applicationData.days,
                total: applicationData.total,
                currency: applicationData.currency,
                status: '–Ω–æ–≤–∞—è'
            };
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç
            if (!currentData.applications) {
                currentData.applications = [];
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞—è–≤–∫—É
            currentData.applications.push(newApplication);
            currentData.last_updated = new Date().toISOString();
            currentData.total_count = currentData.applications.length;
            
            console.log('‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –∑–∞—è–≤–∫–∞, ID:', newApplication.id);
            console.log('üìä –í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π:', currentData.applications.length);
            
            // 3. –ö–æ–¥–∏—Ä—É–µ–º –≤ base64
            const content = btoa(JSON.stringify(currentData, null, 2));
            console.log('üî§ –ó–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ –≤ base64, –¥–ª–∏–Ω–∞:', content.length);
            
            // 4. –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—Ä–∞—Ç–Ω–æ –≤ GitHub
            const updateUrl = `https://api.github.com/repos/${owner}/${repo}/contents/${path}`;
            console.log('üîó PUT –∑–∞–ø—Ä–æ—Å:', updateUrl);
            
            const updateData = {
                message: `üìù –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—è–≤–∫–∞ #${newApplication.id} –æ—Ç ${applicationData.firstName}`,
                content: content,
                branch: branch
            };
            
            if (sha) {
                updateData.sha = sha;
            }
            
            console.log('üì¶ –î–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏:', updateData);
            
            const updateResponse = await fetch(updateUrl, {
                method: 'PUT',
                headers: {
                    'Authorization': `token ${token}`,
                    'Content-Type': 'application/json',
                    'Accept': 'application/vnd.github.v3+json'
                },
                body: JSON.stringify(updateData)
            });
            
            console.log('üìä PUT —Å—Ç–∞—Ç—É—Å:', updateResponse.status, updateResponse.statusText);
            
            if (!updateResponse.ok) {
                const error = await updateResponse.json();
                console.error('‚ùå –û—à–∏–±–∫–∞ GitHub:', error);
                throw new Error(`GitHub –æ—à–∏–±–∫–∞: ${error.message}`);
            }
            
            const result = await updateResponse.json();
            console.log('‚úÖ –ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ GitHub!');
            console.log('üîó –ö–æ–º–º–∏—Ç:', result.commit.html_url);
            
            return { success: true, id: newApplication.id, commit: result.commit.html_url };
            
        } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ GitHub:', error);
            console.error('üìå –°—Ç–µ–∫ –æ—à–∏–±–∫–∏:', error.stack);
            throw error;
        }
    }
    
    // ================ –í–ê–® –°–£–©–ï–°–¢–í–£–Æ–©–ò–ô –ö–û–î ================
    let currency = "MDL"; // –¥–µ—Ñ–æ–ª—Ç

    async function loadConfig() {
        try {
            const response = await fetch('config.json');
            if (!response.ok) throw new Error('Config –Ω–µ –Ω–∞–π–¥–µ–Ω');
            return await response.json();
        } catch(e) {
            console.error(e);
            return { 
                primaryColor:'#667eea',
                secondaryColor:'#764ba2',
                heroTitle:'–ë—ã—Å—Ç—Ä—ã–µ –∑–∞–π–º—ã –æ–Ω–ª–∞–π–Ω',
                heroSubtitle:'–ü–æ–ª—É—á–∏—Ç–µ –¥–æ 100,000',
                heroButtonText:'–ü–æ–ª—É—á–∏—Ç—å –∑–∞–π–º',
                heroButtonColor:'#ff6b6b',
                bannerUrl:'',
                currency:"MDL",
                benefits:[]
            };
        }
    }

    function applyConfig(config){
        currency = config.currency || "MDL";

        const root=document.documentElement;
        root.style.setProperty('--primary-color',config.primaryColor);
        root.style.setProperty('--secondary-color',config.secondaryColor);

        document.getElementById('heroTitle').textContent=config.heroTitle;
        document.getElementById('heroSubtitle').textContent=config.heroSubtitle;

        const heroBtn=document.getElementById('heroBtn');
        heroBtn.textContent=config.heroButtonText;
        heroBtn.style.background=config.heroButtonColor;
        heroBtn.style.color='#fff';

        const bannerImg = document.getElementById('heroBanner');
        bannerImg.src = config.bannerUrl;
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–Ω–Ω–µ—Ä–∞
        bannerImg.onerror = function() {
            this.style.opacity = '0';
            this.style.display = 'none';
        };

        const grid=document.getElementById('benefitsGrid');
        grid.innerHTML=config.benefits.map(b=>`
            <div class="benefit-card">
                <div class="benefit-icon">‚ú®</div>
                <div class="benefit-title">${b.title}</div>
                <div class="benefit-text">${b.text}</div>
            </div>
        `).join('');
    }

    const amountSlider=document.getElementById('amountSlider');
    const daysSlider=document.getElementById('daysSlider');

    function updateCalculator(){
        const amount=parseInt(amountSlider.value);
        const days=parseInt(daysSlider.value);

        const commission=amount*0.005*days;
        const total=amount+commission;

        document.getElementById('amountValue').textContent =
            amount.toLocaleString('ru-RU') + " " + currency;

        document.getElementById('daysValue').textContent =
            days + " –¥–Ω.";

        document.getElementById('resultAmount').textContent =
            Math.round(total).toLocaleString('ru-RU') + " " + currency;
    }

    amountSlider.addEventListener('input',updateCalculator);
    daysSlider.addEventListener('input',updateCalculator);

    // ================ –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –û–¢–ü–†–ê–í–ö–ò –§–û–†–ú–´ ================
    async function handleFormSubmit(e){
        e.preventDefault();
        
        const form = e.target;
        const submitBtn = form.querySelector('.submit-btn');
        const messageEl = document.getElementById('formMessage');
        
        // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ
        const formData = {
            lastName: form.lastName.value.trim(),
            firstName: form.firstName.value.trim(),
            email: form.email.value.trim(),
            phone: form.phone.value.trim(),
            amount: parseInt(amountSlider.value),
            days: parseInt(daysSlider.value),
            total: document.getElementById('resultAmount').textContent,
            currency: currency,
            date: new Date().toISOString()
        };
        
        console.log('üìã –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã:', formData);
        
        // –í–∞–ª–∏–¥–∞—Ü–∏—è
        if (!formData.firstName || !formData.lastName || !formData.email || !formData.phone) {
            showMessage(messageEl, '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è', 'error');
            return;
        }
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
        const originalText = submitBtn.textContent;
        submitBtn.disabled = true;
        submitBtn.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
        
        // –°–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        messageEl.style.display = 'none';
        
        try {
            console.log('üöÄ –ù–∞—á–∏–Ω–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É –≤ GitHub...');
            
            // –°–Ω–∞—á–∞–ª–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
            const isConnected = await testGitHubConnection();
            if (!isConnected) {
                throw new Error('–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ GitHub. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.');
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ GitHub
            const result = await saveToGitHub(formData);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É—Å–ø–µ—Ö
            showMessage(messageEl, `‚úÖ –ó–∞—è–≤–∫–∞ #${result.id} —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!`, 'success');
            console.log('üéâ –ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!');
            
            // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
            form.reset();
            
            // –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
            saveToLocalBackup(formData, result.id);
            
        } catch (error) {
            console.error('üí• –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:', error);
            
            // –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
            let errorMessage = '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏. ';
            
            if (error.message.includes('401')) {
                errorMessage += '–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub —Ç–æ–∫–µ–Ω.';
            } else if (error.message.includes('403')) {
                errorMessage += '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ —Ç–æ–∫–µ–Ω–∞.';
            } else if (error.message.includes('404')) {
                errorMessage += '–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ.';
            } else if (error.message.includes('network')) {
                errorMessage += '–ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–µ—Ç—å—é. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.';
            } else {
                errorMessage += error.message;
            }
            
            showMessage(messageEl, `‚ùå ${errorMessage}`, 'error');
            
            // –†–µ–∑–µ—Ä–≤–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ LocalStorage
            const backupId = 'backup_' + Date.now();
            saveToLocalBackup(formData, backupId);
            
            console.log('üíæ –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è, ID:', backupId);
            
        } finally {
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
            submitBtn.disabled = false;
            submitBtn.textContent = originalText;
        }
    }
    
    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
    function showMessage(element, text, type) {
        element.textContent = text;
        element.className = 'form-message';
        
        if (type === 'success') {
            element.classList.add('success');
        } else if (type === 'error') {
            element.style.backgroundColor = 'rgba(248,215,218,0.9)';
            element.style.color = '#721c24';
            element.style.border = '1px solid rgba(245,198,203,0.5)';
        }
        
        element.style.display = 'block';
    }
    
    // –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
    function saveToLocalBackup(data, id) {
        try {
            let backups = JSON.parse(localStorage.getItem('myzaim_backups') || '{"applications": []}');
            backups.applications.push({
                id: id,
                ...data,
                backupDate: new Date().toISOString()
            });
            localStorage.setItem('myzaim_backups', JSON.stringify(backups));
            console.log('üì¶ –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–Ω–∞, ID:', id);
        } catch (e) {
            console.error('–û—à–∏–±–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', e);
        }
    }

    function goToAdmin(){ 
        window.location.href = "admin.html"; 
    }
    
    function scrollToForm(){ 
        document.querySelector('.form-section').scrollIntoView({behavior:'smooth'});
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —á–∞—Å—Ç–∏—Ü –±–µ–∑ –º–µ—Ä—Ü–∞–Ω–∏—è
    function initStableParticles() {
        if (typeof particlesJS !== 'undefined') {
            const particleColor = '#2c3e50'; // –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞
            
            particlesJS('particles-js', {
                particles: {
                    number: { 
                        value: 100, // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å—Ç–∏—Ü (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å)
                        density: { 
                            enable: true, 
                            value_area: 1000 
                        }
                    },
                    color: { 
                        value: particleColor
                    },
                    shape: { 
                        type: "circle" 
                    },
                    opacity: { 
                        value: 0.4,
                        random: false,
                        anim: {
                            enable: false
                        }
                    },
                    size: { 
                        value: 3, 
                        random: true,
                        anim: {
                            enable: false,
                        }
                    },
                    line_linked: {
                        enable: true,
                        distance: 150,
                        color: particleColor,
                        opacity: 0.3,
                        width: 1
                    },
                    move: {
                        enable: true,
                        speed: 5,
                        direction: "none",
                        random: true,
                        straight: false,
                        out_mode: "out",
                        bounce: false
                    }
                },
                interactivity: {
                    detect_on: "canvas",
                    events: {
                        onhover: { 
                            enable: true, 
                            mode: "repulse"
                        },
                        onclick: { 
                            enable: false,
                        },
                        resize: true
                    }
                },
                retina_detect: true
            });
            
        } else {
            console.log('–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ particles.js –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å');
        }
    }

    // –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    (async()=>{
        console.log('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∞–π—Ç–∞...');
        
        const config=await loadConfig();
        applyConfig(config);
        updateCalculator();
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã –±–µ–∑ –º–µ—Ä—Ü–∞–Ω–∏—è
        setTimeout(() => {
            initStableParticles();
        }, 500);
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ GitHub –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        console.log('üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ GitHub –Ω–∞—Å—Ç—Ä–æ–µ–∫...');
        console.log('üìÅ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:', GITHUB_REPO.owner + '/' + GITHUB_REPO.repo);
        console.log('üìÑ –§–∞–π–ª:', GITHUB_REPO.path);
        console.log('üåø –í–µ—Ç–∫–∞:', GITHUB_REPO.branch);
        
        // –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
        setTimeout(async () => {
            console.log('üîç –¢–µ—Å—Ç–∏—Ä—É–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ GitHub...');
            const isConnected = await testGitHubConnection();
            if (isConnected) {
                console.log('‚úÖ GitHub –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ!');
            } else {
                console.warn('‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ GitHub');
            }
        }, 1000);
        
    })();
    </script>

    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
    var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
    (function(){
    var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
    s1.async=true;
    s1.src='https://embed.tawk.to/692d4171b93a681983f687e4/1jbccf8v1';
    s1.charset='UTF-8';
    s1.setAttribute('crossorigin','*');
    s0.parentNode.insertBefore(s1,s0);
    })();
    </script>
    <!--End of Tawk.to Script-->
</body>
</html>
